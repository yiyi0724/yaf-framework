define("h/tg/redpackage/online",["../../public/tipFun","../../plugins/dialog"],function(n,t,e){var i=n("../../public/tipFun"),o=n("../../plugins/dialog"),a=!1,s=parseInt($("#isGet").val(),10);$("#getRewardBtn").on("click",function(){return s?void 0:($.ajax({url:"/tg/redpackage/get/",type:"GET",dataType:"json",beforeSend:function(){a=!0},data:{type:"2"}}).done(function(n){a=!1,n.status?i.fire("success",n.errmsg||"领取成功",function(){window.parent.manyouSidebar&&window.parent.manyouSidebar.removeRewardFrame()}):n.errmsg&&o.open({title:"错误提醒",content:n.errmsg,btn:["确定"]})}).fail(function(){a=!1}),!1)})}),define("h/public/tipFun",[],function(n,t,e){t.fire=function(n,t,e,i){$.isFunction(e)?(i=e,e=2e3):(e=e||2e3,i=i||function(){});var o=$("#tipBox");o[0]&&o.remove();var a='<div id="tipBox" class="mod-tip-box"><div class="tip-box-inner"><div class="tip-box-content"><span class="icon '+n+'"></span><span class="txt">'+t+"</span></div></div></div>";$("body").append(a),$("#tipBox").stop().show().delay(e).fadeOut(500,function(){$(this).remove(),"function"==typeof i&&i()})}}),define("h/plugins/dialog",[],function(n,t,e){function i(n){var t=this;t.config=$.extend({},o,n),t.view()}var o={shade:!0,shadeClose:!1,title:"提示信息",content:"",btn:["确定","取消"]},a={open:function(n){new i(n)},close:function(){var n=$("#"+s[0]);n[0]&&n.remove()}},s=["mod-dialog"];i.prototype.view=function(){a.close();var n=this,t=n.config,e=t.shade?$('<div id="'+s[0]+'" class="'+s[0]+' dialogshade" '+("string"==typeof t.shade?'style="'+t.shade+'"':"")+"></div>"):$('<div id="'+s[0]+'" class="'+s[0]+'"></div>'),i=function(){var n="object"==typeof t.title;return t.title?'<div class="title" style="'+(n?t.title[1]:"")+'">'+(n?t.title[0]:t.title)+"</div>":""}(),o=function(){"string"==typeof t.btn&&(t.btn=[t.btn]);var n=t.btn.length,e="";return 0!==n&&t.btn?(e='<a class="yes" type="1" href="javascript:;">'+t.btn[0]+"</a>",2===n&&(e='<a class="cancel" type="0" href="javascript:;">'+t.btn[1]+"</a>"+e),'<div class="btns">'+e+"</div>"):""}(),c='<div class="dialog-inner"><div class="dialog-main">'+i+'<div class="disc">'+t.content+"</div>"+o+"</div></div>";e.html(c),$("body").append(e);var d=$("#"+s[0]);t.success&&t.success(),n.action(t,d)},i.prototype.action=function(n,t){function e(){n.cancel&&n.cancel(),a.close()}n.shade&&n.shadeClose&&t.on("click",function(n){"mod-dialog"==n.target.id&&a.close()}),t.on("touchmove",function(n){n.preventDefault()}),t.find(".btns").children("a").on("click",function(){var t=$(this).attr("type");1==t?n.yes?n.yes():a.close():0==t&&e()})},e.exports=a});