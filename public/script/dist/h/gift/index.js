define("h/gift/index",[],function(i,s,c){!function(){function i(){$.ajax({url:" /more/gift/",type:"GET",dataType:"json",beforeSend:function(){a.append(s),$("#more").remove(),n=!0},data:{page:++o}}).done(function(i){if(i.status){n=!1;var s=i.data,o="";$("#loading").remove();for(var d in s){var t=s[d],r=Math.round(t.surplus/t.total*100),e="";e=t.surplus<=0?'<div class="button got">已结束</div>':t.code?'<div class="button see">查看</div>':'<div class="button">领取</div>',o='<li><a href="/gift/detail/?id='+t.id+'">                                        <div class="pic"><img src="'+PageConfig.imgUrl+t.logo+'" alt=""></div>                                        <div class="cont">                                            <h3>'+t.name+'</h3>                                            <p class="progress">                                                <span class="txt">剩余</span>                                                <span class="progressBar">                                                    <i style="width: '+r+'%"></i>                                                    <em class="num">'+r+"%</em>                                                </span>                                            </p>                                        </div>                                        "+e+"                                    </a></li>",a.find("ul").append(o)}s.length<10?l=!0:a.append(c)}})}var s='<div id="loading" class="mod-loading"><div class="conbox conbox1"><i class="cir1"></i><i class="cir2"></i><i class="cir3"></i><i class="cir4"></i></div><div class="conbox conbox2"><i class="cir1"></i><i class="cir2"></i><i class="cir3"></i><i class="cir4"></i></div><div class="conbox conbox3"><i class="cir1"></i><i class="cir2"></i><i class="cir3"></i><i class="cir4"></i></div></div>',c='<div id="more" class="mod-more">点击加载更多</div>',a=$("#giftList"),o=1,n=!1,l=!1;location.search.split("=")[1];a.find("li").length<10||($(window).on("scroll",function(){$(document).height()-100<=$(window).height()+$(window).scrollTop()&&!n&&!l&&i()}),$("#more").on("click",function(){return i(),!1}))}()});