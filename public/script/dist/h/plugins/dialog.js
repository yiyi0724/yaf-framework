define("h/plugins/dialog",[],function(t,e,n){function i(t){var e=this;e.config=$.extend({},s,t),e.view()}var s={shade:!0,shadeClose:!1,title:"提示信息",content:"",btn:["确定","取消"]},c={open:function(t){new i(t)},close:function(){var t=$("#"+a[0]);t[0]&&t.remove()}},a=["mod-dialog"];i.prototype.view=function(){c.close();var t=this,e=t.config,n=e.shade?$('<div id="'+a[0]+'" class="'+a[0]+' dialogshade" '+("string"==typeof e.shade?'style="'+e.shade+'"':"")+"></div>"):$('<div id="'+a[0]+'" class="'+a[0]+'"></div>'),i=function(){var t="object"==typeof e.title;return e.title?'<div class="title" style="'+(t?e.title[1]:"")+'">'+(t?e.title[0]:e.title)+"</div>":""}(),s=function(){"string"==typeof e.btn&&(e.btn=[e.btn]);var t=e.btn.length,n="";return 0!==t&&e.btn?(n='<a class="yes" type="1" href="javascript:;">'+e.btn[0]+"</a>",2===t&&(n='<a class="cancel" type="0" href="javascript:;">'+e.btn[1]+"</a>"+n),'<div class="btns">'+n+"</div>"):""}(),o='<div class="dialog-inner"><div class="dialog-main">'+i+'<div class="disc">'+e.content+"</div>"+s+"</div></div>";n.html(o),$("body").append(n);var l=$("#"+a[0]);e.success&&e.success(),t.action(e,l)},i.prototype.action=function(t,e){function n(){t.cancel&&t.cancel(),c.close()}t.shade&&t.shadeClose&&e.on("click",function(t){"mod-dialog"==t.target.id&&c.close()}),e.on("touchmove",function(t){t.preventDefault()}),e.find(".btns").children("a").on("click",function(){var e=$(this).attr("type");1==e?t.yes?t.yes():c.close():0==e&&n()})},n.exports=c});