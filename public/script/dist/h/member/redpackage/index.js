define("h/member/redpackage/index",[],function(i,a,s){!function(){function i(){$.ajax({url:"/more/redpackage/",type:"GET",dataType:"json",beforeSend:function(){c.append(a),$("#more").remove(),d=!0},data:{page:++n,type:r}}).done(function(i){if(i.status){var a=i.data;if($("#loading").remove(),l&&a.length<=0){var e='<div class="default">                                                <i class="ic-default"></i>                                                <p class="msg">您还没有'+t+"红包哦！</p>                                            </div>";c.append(e)}else{var n="";for(var r in a){var p=a[r],v="";v=p.usetime?"":'<span class="status">已使用</span>',n='<li>                                            <div class="info">                                                <div class="pic">                                                    <span class="txt">'+p.price+'</span>                                                </div>                                                <div class="cont">                                                    <h3>'+p.name+v+'</h3>                                                    <p class="time">生效期：'+p.starttime+'</p>                                                    <p class="time">有效期：'+p.expiretime+'</p>                                                </div>                                            </div>                                            <p class="description">单笔充值满'+p.condition+"元即可使用</p>                                        </li>",c.find("ul").append(n)}a.length<10?o=!0:(d=!1,c.append(s))}}l=!1})}var a='<div id="loading" class="mod-loading"><div class="conbox conbox1"><i class="cir1"></i><i class="cir2"></i><i class="cir3"></i><i class="cir4"></i></div><div class="conbox conbox2"><i class="cir1"></i><i class="cir2"></i><i class="cir3"></i><i class="cir4"></i></div><div class="conbox conbox3"><i class="cir1"></i><i class="cir2"></i><i class="cir3"></i><i class="cir4"></i></div></div>',s='<div id="more" class="more mod-more">点击加载更多</div>',c=$("#redpkList"),e=($("#tabType"),$(".type")),n=0,d=!1,o=!1,r=1,t="未使用",l=!0;$(window).on("scroll",function(){$(document).height()-100<=$(window).height()+$(window).scrollTop()&&!d&&!o&&i()}),c.on("click",".more",function(){return i(),!1}),e.data("curr",e.siblings(".active").index()).on("click",function(a){var s=$(this),p=e.data("curr"),v=e.index(s);return p!==v&&(e.data("curr",v),l=!0,n=0,o=!1,d=!1,c.find("ul").empty(),$(".default").remove(),$(".mod-more").remove(),$("#more").remove(),e.hasClass("active")&&e.removeClass("active"),s.addClass("active"),r=parseInt(s.data("type")),t=1==r?"未使用":"已使用/已过期",i()),!1}),i()}()});